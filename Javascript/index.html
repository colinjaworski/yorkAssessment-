<!DOCTYPE html>
<html>

<body>


    <div>

        User Id:<input id="userId" value=""><br>
        First Name:<input id="fName"></input><br>
        Last Name:<input id="lName"></input><br>
        Birthday:<input id="birthday" type="date"></input><br>
        <button id="submit" type="button" onClick="submitFunction()">Accept</button>

        <p id="idVer"></p>
        <p id="firstName"></p>
        <p id="lastName"></p>
        <p id="returnB-Day"></p>

    </div>


    <script>

        let str = ''; // these initialize variables as empty strings so they can be changed later
        let uid = '';
        let fname = '';
        let lname = '';
        let birthday = '';
        let uidVerified = false;

        function submitFunction() { // function handles submit 

            uid = document.getElementById("userId").value; // these capture values of input fields
            fname = document.getElementById("fName").value;
            lname = document.getElementById("lName").value;
            birthday = document.getElementById("birthday").value;

            if (fname === '') { // these check to see if input fields are empty
                document.getElementById("firstName").innerHTML = 'Invalid fName'
            } else {
                document.getElementById("firstName").innerHTML = ''
            }
            if (lname === '') {
                document.getElementById("lastName").innerHTML = 'Invalid lName'
            } else {
                document.getElementById("lastName").innerHTML = ''
            }

            dateDiff(); // these call other functions to run
            verifyUid();
            clearInputs();
        }


        function verifyUid() { //function for input validation 

            let length = false;
            let isUpperCase = false;
            let isLowerCase = false;
            let isNumber = false;


            if (uid.length > 7 && uid.length < 13) { length = true }; // checks length

            for (let i = 0; i < uid.length; i++) { // checks if ID is number
                if (!isNaN(uid[i])) {
                    isNumber = true;
                    break;
                }
            }

            for (let i = 0; i < uid.length; i++) { // checks if ID has lowercase letter in it
                if (uid[i].toLowerCase() === uid[i] && uid[i].toUpperCase() !== uid[i]) {
                    isLowerCase = true;
                    break;
                }



                /* 
                if (uid.length > 7 && uid.length < 13) { length = true };
                if (/[0-9]/.test(uid)) { isNumber = true };
                if (/[a-z]/.test(uid)) { isLowerCase = true };
                if (/[A-Z]/.test(uid)) { isUpperCase = true };
                */

                if (length && number && lowerCase && upperCase) {
                    document.getElementById("idVer").innerHTML = ''

                } else {
                    document.getElementById("idVer").innerHTML = 'invalid userID'
                }


            }
        }

        function dateDiff() { // function to check how old the person is in days

            const currentDate = new Date().getTime(); //sets current date in milliseconds
            const dateControl = document.querySelector('input[type="date"]').valueAsNumber; // sets input time in milliseconds
            const timeDiff = (currentDate - dateControl); // sets value of days between dates in milliseconds
            const oneDay = 1000 * 60 * 60 * 24 // sets value for one day in milliseconds
            const daysOld = Math.floor(timeDiff / oneDay) // sets age in days
            const yearsOld = Math.floor(daysOld / 365); // sets age in years rounded (for fun)

            if (birthday === '') {
                document.getElementById("returnB-Day").innerHTML = 'Invalid birthday'
            } else {
                if (daysOld < 6570) {
                    document.getElementById("returnB-Day").innerHTML = "You are probably not old enough to take this class!";
                } else
                    document.getElementById("returnB-Day").innerHTML = fname + ' ' + lname + ' you have been breathing for ' + daysOld + ' days!';
            }
        }

        function clearInputs() { // function clears input values 

            document.getElementById('userId').value = '';
            document.getElementById('fName').value = '';
            document.getElementById('lName').value = '';
            document.getElementById('birthday').value = '';
        }

        for (let i = 0; i < 21; i++) { // this is a for loop where we set value of i, ad a constraint, and finally increment its value
            // use something like document.write(str.padStart(i,"x") + "<br>");
            document.write(str.padStart(i, "x") + "<br>"); // this prints each line from the loop on the DOM
        }


    </script>

</body>

</html>