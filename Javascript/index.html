<!DOCTYPE html>
<html>

<body>


    <div>

        User Id:<input id="userId" value=""><br>
        First Name:<input id="fName"></input><br>
        Last Name:<input id="lName"></input><br>
        Birthday:<input id="birthday" type="date"></input><br>
        <button id="submit" type="button" onClick="submitFunction()">Accept</button>

        <p id="idVer"></p>
        <p id="firstName"></p>
        <p id="lastName"></p>
        <p id="returnB-Day"></p>

    </div>


    <script>

        let str = ''; // these initialize variables as empty strings so they can be changed later
        let uid = '';
        let fname = '';
        let lname = '';
        let birthday = '';
        let uidVerified = false;

        function submitFunction() { // function handles submit 

            uid = document.getElementById("userId").value; // these capture values of input fields
            fname = document.getElementById("fName").value;
            lname = document.getElementById("lName").value;
            birthday = document.getElementById("birthday").value;

            if (fname === '') { // these check to see if input fields are empty
                document.getElementById("firstName").innerHTML = 'Invalid fName'
            }

            if (lname === '') {
                document.getElementById("lastName").innerHTML = 'Invalid lName'
            }

            dateDiff(); // these call other functions to run
            verifyUid();
            clearInputs();
        }

        function verifyUid() { //function for input validation 

            const upperCaseId = uid.toUpperCase()
            const lowerCaseId = uid.toLowerCase()

            if (uid.length > 7 && uid.length < 13) { //checks to see if uid is 8-12 char long 
                if (/[0-9]/.test(uid)) { // checks to see if uid contains a number, could also use /\d/.test(uid)
                    if (/[a-zA-Z]/.test(uid)) { // checks to see if uid contains a letter
                        for (i = 0; i < upperCaseId.length; i++) { // loops through uppercase version of uid
                            for (i = 0; i < uid.length; i++) {
                                if (upperCaseId[i] === uid[i]) { // checks to see if uid has uppercase letter
                                    for (i = 0; i < lowerCaseId.length; i++) { // loops through lowercase version of uid
                                        for (i = 0; i < uid.length; i++) {
                                            if (lowerCaseId[i] === uid[i]) { //checks to see if uid has lowercase letter
                                                console.log('SUCCESS')
                                                uidVerified = true;
                                            } else {
                                                console.log('you need a lowercase letter')
                                            }
                                        }
                                    }
                                } else {
                                    console.log('you need an uppercase letter')
                                }
                            }
                        }
                    } else {
                        console.log('uid does not contain a letter')
                    }
                } else console.log('uid does not contain a number')
            } else {
                console.log('invalid uid length')
            }
            if (uidVerified === true) {
                console.log('your verified !');
                document.getElementById("idVer").innerHTML = ''
                uidVerified = false;
            } else {
                document.getElementById("idVer").innerHTML = 'invalid userID'
            }
        }

        function dateDiff() { // function to check how old the person is in days

            const currentDate = new Date().getTime(); //sets current date in milliseconds
            const dateControl = document.querySelector('input[type="date"]').valueAsNumber; // sets input time in milliseconds
            const timeDiff = (currentDate - dateControl); // sets value of days between dates in milliseconds
            const oneDay = 1000 * 60 * 60 * 24 // sets value for one day in milliseconds
            const daysOld = Math.floor(timeDiff / oneDay) // sets age in days
            const yearsOld = Math.floor(daysOld / 365); // sets age in years rounded (for fun)

            if (birthday === '') {
                document.getElementById("returnB-Day").innerHTML = 'Invalid birthday'
            } else {
                if (daysOld < 6570) {
                    document.getElementById("returnB-Day").innerHTML = "You are probably not old enough to take this class!";
                } else
                    document.getElementById("returnB-Day").innerHTML = fname + ' ' + lname + ' you have been breathing for ' + daysOld + ' days!';
            }
        }

        function clearInputs() { // function clears input values 

            document.getElementById('userId').value = '';
            document.getElementById('fName').value = '';
            document.getElementById('lName').value = '';
            document.getElementById('birthday').value = '';
        }

        for (let i = 0; i < 21; i++) { // this is a for loop where we set value of i, ad a constraint, and finally increment its value
            // use something like document.write(str.padStart(i,"x") + "<br>");
            document.write(str.padStart(i, "x") + "<br>"); // this prints each line from the loop on the DOM
        }


    </script>

</body>

</html>